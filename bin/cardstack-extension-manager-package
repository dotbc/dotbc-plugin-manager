#!/usr/bin/env node

const program = require('commander')
  .version(require('../package.json').version);

const name = 'package <extension-name>'
const description = 'packages an extension project for distribution';
const usage = `\n  usage:\n\n    ${name} - ${description}\n`;

if (module.parent) {
  module.exports.name = name;
  module.exports.description = description;
  return;
}

program
  .command(name, description)
    .action((extensionProjectName) => {

      var params = {
        name: extensionProjectName,
      };

      const createExtensionProject = require('../lib/createExtensionProject');

      console.log(`creating new handler \'${extensionProjectName}\'...`);

      createExtensionProject({
        name: extensionProjectName
      }, (err) => {
        if (err) throw err;

        console.log(`finished creating new extension project \'${extensionProjectName}\'...`);

      });

    });

program.parse(process.argv);

if ( ! process.argv[2] || process.argv[2] === '--help')
  return program.help();;